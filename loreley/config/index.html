
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Automated MAP-Elites system that evolves entire git repositories.">
      
      
      
      
        <link rel="prev" href="../..">
      
      
        <link rel="next" href="../core/experiments/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Configuration - Loreley</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.618322db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#loreleyconfig" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Loreley" class="md-header__button md-logo" aria-label="Loreley" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Loreley
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Configuration
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Loreley" class="md-nav__button md-logo" aria-label="Loreley" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Loreley
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Loreley
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Loreley
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#settings" class="md-nav__link">
    <span class="md-ellipsis">
      
        Settings
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access-helpers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Access helpers
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core/experiments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Experiments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Scheduler
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Scheduler
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scheduler/main/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scheduler/job_scheduler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Job scheduling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scheduler/ingestion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ingestion
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Database
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Database
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../db/base/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Engine & sessions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../db/models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Models
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    MAP-Elites
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    MAP-Elites
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core/map-elites/map-elites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core/map-elites/repository_embedding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Repository embeddings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core/map-elites/preprocess/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Preprocessing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core/map-elites/chunk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chunking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core/map-elites/code_embedding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Code embeddings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core/map-elites/dimension_reduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dimensionality reduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core/map-elites/sampler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sampler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core/map-elites/snapshot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Snapshots
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core/map-elites/summarization_embedding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Summary embeddings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Worker pipeline
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Worker pipeline
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core/worker/repository/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Repository
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core/worker/planning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Planning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core/worker/agent_backend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Agent backend
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core/worker/coding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Coding
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core/worker/evaluator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Evaluation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core/worker/evolution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Evolution loop
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core/worker/commit_summary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Commit summaries
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core/worker/job_store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Job store
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" >
        
          
          <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Tasks
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tasks
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tasks/broker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Broker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tasks/workers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Workers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UI API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Streamlit UI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Operations
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Operations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../script/run_scheduler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Running the scheduler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../script/run_worker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Running the worker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../script/run_api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Running the UI API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../script/run_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Running the UI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#settings" class="md-nav__link">
    <span class="md-ellipsis">
      
        Settings
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access-helpers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Access helpers
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="loreleyconfig">loreley.config<a class="headerlink" href="#loreleyconfig" title="Permanent link">&para;</a></h1>
<p>Centralised configuration for the Loreley application, backed by <code>pydantic-settings</code> and environment variables.</p>
<h2 id="settings">Settings<a class="headerlink" href="#settings" title="Permanent link">&para;</a></h2>
<ul>
<li><strong><code>Settings</code></strong>: <code>BaseSettings</code> subclass that loads core application configuration.</li>
<li><strong>Environment</strong>: <code>app_name</code>, <code>environment</code>, <code>log_level</code>, <code>logs_base_dir</code>. <code>log_level</code> controls the global Loguru log level used across long-running processes (including the scheduler, workers, and their CLI wrappers); <code>logs_base_dir</code> (via <code>LOGS_BASE_DIR</code>) optionally overrides the base directory where long-running process logs are written, defaulting to a <code>logs/</code> directory under the current working directory. See the scripts documentation under <code>docs/script</code> for concrete examples.</li>
<li><strong>OpenAI-compatible API</strong>: <code>OPENAI_API_KEY</code>, <code>OPENAI_BASE_URL</code>, <code>OPENAI_API_SPEC</code> configure the API key, base URL, and API surface for all OpenAI-compatible LLM and embedding calls, used by <code>loreley.core.map-elites.code_embedding.CodeEmbedder</code>, <code>loreley.core.map-elites.summarization_embedding.SummaryEmbedder</code>, and <code>loreley.core.worker.commit_summary.CommitSummarizer</code>. When unset, <code>OPENAI_API_KEY</code>/<code>OPENAI_BASE_URL</code> fall back to the OpenAI Python client's own environment variable defaults. <code>OPENAI_API_SPEC</code> accepts:<ul>
<li><code>"responses"</code> (default): use the unified <code>responses</code> API (<code>client.responses.create</code>) for text generation.</li>
<li><code>"chat_completions"</code>: use the classic Chat Completions API (<code>client.chat.completions.create</code>) while preserving the same high-level behaviour.</li>
</ul>
</li>
<li><strong>Database</strong>: either a raw <code>DATABASE_URL</code> or individual <code>DB_*</code> fields (scheme, host, port, username, password, database name, pool options, echo flag).</li>
<li><strong>Metrics</strong>: <code>metrics_retention_days</code> controls how long metrics are retained.</li>
<li><strong>Task queue</strong>: <code>TASKS_REDIS_URL</code>, <code>TASKS_REDIS_HOST</code>, <code>TASKS_REDIS_PORT</code>, <code>TASKS_REDIS_DB</code>, <code>TASKS_REDIS_PASSWORD</code>, <code>TASKS_REDIS_NAMESPACE</code>, <code>TASKS_QUEUE_NAME</code>, <code>TASKS_WORKER_MAX_RETRIES</code>, and <code>TASKS_WORKER_TIME_LIMIT_SECONDS</code> configure the Dramatiq Redis broker connection details, logical namespace, queue routing, retry policy, and actor time limits used by <code>loreley.tasks.broker</code> and <code>loreley.tasks.workers</code>. When <code>TASKS_REDIS_URL</code> is set and includes credentials, only a sanitised <code>scheme://host:port/db</code> form is logged, never the raw URL or password. <code>TASKS_WORKER_TIME_LIMIT_SECONDS</code> is interpreted in seconds and converted to Dramatiq's millisecond <code>time_limit</code>: values <code>&lt;= 0</code> disable the time limit (no hard cap on actor runtime), while positive values enforce a per-job wall-clock limit.</li>
<li><strong>Scheduler</strong>: <code>SCHEDULER_REPO_ROOT</code>, <code>SCHEDULER_POLL_INTERVAL_SECONDS</code>, <code>SCHEDULER_MAX_UNFINISHED_JOBS</code>, <code>SCHEDULER_MAX_TOTAL_JOBS</code>, <code>SCHEDULER_SCHEDULE_BATCH_SIZE</code>, <code>SCHEDULER_DISPATCH_BATCH_SIZE</code>, and <code>SCHEDULER_INGEST_BATCH_SIZE</code> drive <code>loreley.scheduler.main</code>. These options determine which git worktree the scheduler inspects, how often it runs a reconciliation tick, how many unfinished jobs are allowed at once, the optional cap on total jobs, how aggressively it samples new MAP-Elites jobs per tick, how many pending jobs are dispatched to Dramatiq each cycle, and how many completed jobs are ingested back into the archive per tick.</li>
<li><strong>Worker repository</strong>: <code>WORKER_REPO_REMOTE_URL</code>, <code>WORKER_REPO_BRANCH</code>, <code>WORKER_REPO_WORKTREE</code>, <code>WORKER_REPO_WORKTREE_RANDOMIZE</code>, <code>WORKER_REPO_WORKTREE_RANDOM_SUFFIX_LEN</code>, <code>WORKER_REPO_GIT_BIN</code>, <code>WORKER_REPO_FETCH_DEPTH</code>, <code>WORKER_REPO_CLEAN_EXCLUDES</code>, <code>WORKER_REPO_JOB_BRANCH_PREFIX</code>, <code>WORKER_REPO_ENABLE_LFS</code>, and <code>WORKER_REPO_JOB_BRANCH_TTL_HOURS</code> configure the git worktree used by worker processes (upstream remote and branch, local checkout path, optional randomised suffix for concurrent workers, git binary, shallow clone depth, clean exclusions, job branch naming, optional Git LFS support, and how long remote job branches are retained before pruning), used by <code>loreley.core.worker.repository.WorkerRepository</code>.</li>
<li><strong>Worker planning</strong>: <code>WORKER_PLANNING_*</code> options configuring how the external Codex CLI planner is invoked (binary path, optional profile, maximum attempts, timeout, extra environment variables, an optional JSON schema override, the Codex schema mode, and the validation mode), used by <code>loreley.core.worker.planning.PlanningAgent</code>. You can override the entire backend via <code>WORKER_PLANNING_BACKEND</code> (dotted <code>module:attr</code>), and <code>WORKER_PLANNING_CODEX_SCHEMA_MODE</code> selects <code>"auto"</code> / <code>"native"</code> / <code>"prompt"</code> / <code>"none"</code> when the Codex backend is used. <code>WORKER_PLANNING_VALIDATION_MODE</code> controls how strictly the worker enforces the planner's JSON output:<ul>
<li><code>"strict"</code>: require the backend to produce JSON that matches the planning schema; both Codex (in native schema mode) and the local Pydantic models validate the payload, and failures cause retries and eventually a hard error.</li>
<li><code>"lenient"</code> (default): still provide the JSON schema to the backend when applicable, but treat JSON decoding / schema validation failures as non-fatal. The worker first tries to parse the response using the planning schema; if that fails, it synthesises a minimal <code>PlanningPlan</code> from the free-form output while preserving as much structure as possible for downstream consumers.</li>
<li><code>"none"</code>: disable JSON-based validation entirely. The planner may respond in arbitrary free-form text; the worker skips JSON parsing and always builds a minimal <code>PlanningPlan</code> directly from the raw output and job context.</li>
</ul>
</li>
<li><strong>Worker coding</strong>: <code>WORKER_CODING_*</code> options configuring how the external Codex-based coding agent is invoked (binary path, optional profile, maximum attempts, timeout, extra environment variables, an optional JSON schema override, the Codex schema mode, and the validation mode), used by <code>loreley.core.worker.coding.CodingAgent</code>. You can override the backend via <code>WORKER_CODING_BACKEND</code> (dotted <code>module:attr</code>), and <code>WORKER_CODING_CODEX_SCHEMA_MODE</code> selects <code>"auto"</code> / <code>"native"</code> / <code>"prompt"</code> / <code>"none"</code> when the Codex backend is used. <code>WORKER_CODING_VALIDATION_MODE</code> follows the same <code>"strict"</code> / <code>"lenient"</code> / <code>"none"</code> semantics as the planning agent, but applied to the coding agent's structured execution report.</li>
<li><strong>Cursor backend</strong>: <code>WORKER_CURSOR_MODEL</code> selects the model passed to the Cursor Agent CLI (default <code>"gpt-5.1-codex-max-high"</code>), used by <code>loreley.core.worker.agent_backend.cursor_backend_from_settings()</code> when wiring Cursor as a backend for planning or coding.
  <code>WORKER_CURSOR_FORCE</code> (default <code>true</code>) appends <code>--force</code> so the Cursor agent allows commands unless explicitly denied; set it to <code>false</code> to omit the flag.</li>
<li><strong>Worker evaluator</strong>: <code>WORKER_EVALUATOR_PLUGIN</code>, <code>WORKER_EVALUATOR_PYTHON_PATHS</code>, <code>WORKER_EVALUATOR_TIMEOUT_SECONDS</code>, and <code>WORKER_EVALUATOR_MAX_METRICS</code> configure the evaluation plugin entry point, additional Python paths, subprocess timeout, and the maximum number of metrics to keep, used by <code>loreley.core.worker.evaluator.Evaluator</code>.</li>
<li><strong>Worker evolution commits</strong>: <code>WORKER_EVOLUTION_COMMIT_MODEL</code>, <code>WORKER_EVOLUTION_COMMIT_TEMPERATURE</code>, <code>WORKER_EVOLUTION_COMMIT_MAX_OUTPUT_TOKENS</code>, <code>WORKER_EVOLUTION_COMMIT_MAX_RETRIES</code>, <code>WORKER_EVOLUTION_COMMIT_RETRY_BACKOFF_SECONDS</code>, <code>WORKER_EVOLUTION_COMMIT_AUTHOR</code>, <code>WORKER_EVOLUTION_COMMIT_EMAIL</code>, and <code>WORKER_EVOLUTION_COMMIT_SUBJECT_MAX_CHARS</code> configure how the evolution worker generates and records commit subjects (LLM model, sampling behaviour, retry policy, and subject length) and which author identity is used when creating commits, used by <code>loreley.core.worker.commit_summary.CommitSummarizer</code> and <code>loreley.core.worker.repository.WorkerRepository</code>.</li>
<li><strong>Worker evolution global goal</strong>: <code>WORKER_EVOLUTION_GLOBAL_GOAL</code> provides a single, plain‑language evolution objective that is shared across all jobs. When no per‑job <code>goal</code>/<code>objective</code>/<code>description</code> is present in the job payload, this value is used as the <strong>Global objective</strong> in both the planning and coding prompts so that the worker consistently optimises towards a user‑defined high‑level target.</li>
<li><strong>Map-Elites preprocessing</strong>: <code>MAPELITES_PREPROCESS_*</code> options controlling which repository code files are considered for feature extraction (limits on file size, allowed extensions/filenames, excluded path globs, whitespace handling, and comment stripping), used by <code>loreley.core.map-elites.preprocess.CodePreprocessor</code> and the repo-state embedding file enumerator.</li>
<li><strong>Map-Elites chunking</strong>: <code>MAPELITES_CHUNK_*</code> options controlling how preprocessed files are split into chunks (target and minimum lines per chunk, overlap, maximum chunks per file, and boundary keywords used by the chunker), used by <code>loreley.core.map-elites.chunk.CodeChunker</code>.</li>
<li><strong>Map-Elites code embedding</strong>: <code>MAPELITES_CODE_EMBEDDING_*</code> options configuring the embedding model, optional output dimensions, batch size, per-commit chunk budget, retry count, and exponential backoff for embedding requests, used by <code>loreley.core.map-elites.code_embedding.CodeEmbedder</code>.</li>
<li><strong>Map-Elites summary embedding (optional)</strong>: <code>MAPELITES_SUMMARY_*</code> and <code>MAPELITES_SUMMARY_EMBEDDING_*</code> options configuring the LLM summary model (name, temperature, max output tokens, source excerpt character limit, retries, and backoff) and the summary embedding model (name, dimensions, and batch size), used by <code>loreley.core.map-elites.summarization_embedding.SummaryEmbedder</code>. Repo-state MAP-Elites behaviour descriptors do not include these summary vectors.</li>
<li><strong>Map-Elites dimensionality reduction</strong>: <code>MAPELITES_DIMENSION_REDUCTION_*</code> options controlling how commit embeddings are normalised, the target feature dimensions, minimum sample count for fitting PCA, rolling history size, and refit cadence, used by <code>loreley.core.map-elites.dimension_reduction.DimensionReducer</code>. In repo-state mode, the input embedding is the repo-state code vector.</li>
<li><strong>Map-Elites feature normalization and archive</strong>: <code>MAPELITES_FEATURE_TRUNCATION_K</code> sets the symmetric clip radius applied to PCA outputs before they are linearly mapped into <code>[0, 1]^d</code>; <code>MAPELITES_FEATURE_NORMALIZATION_WARMUP_SAMPLES</code> controls the minimum history required before fitting/using PCA (never below <code>MAPELITES_DIMENSION_REDUCTION_MIN_FIT_SAMPLES</code>); and <code>MAPELITES_FEATURE_CLIP</code> toggles defensive clipping. <code>MAPELITES_ARCHIVE_*</code> options continue to configure grid resolution and learning parameters for the underlying MAP-Elites archive, used by <code>loreley.core.map-elites.map-elites.MapElitesManager</code>.</li>
<li><strong>Map-Elites fitness and sampling</strong>: <code>MAPELITES_FITNESS_*</code> and <code>MAPELITES_SAMPLER_*</code> options that configure which metric to optimise, how to treat fitness direction/floor, and how new jobs are drawn from the archive (inspiration count, neighbour radius, fallback sampling, default priority, and whether to include metadata), used by <code>loreley.core.map-elites.map-elites.MapElitesManager</code> and <code>loreley.core.map-elites.sampler.MapElitesSampler</code>. <code>MAPELITES_SEED_POPULATION_SIZE</code> sets the initial seed population size for new islands.</li>
<li><strong>Map-Elites embedding mode and cache</strong>: <code>MAPELITES_EMBEDDING_MODE</code> selects how commits are represented for MAP-Elites (currently only supports <code>"repo_state"</code>), <code>MAPELITES_FILE_EMBEDDING_CACHE_BACKEND</code> selects the file-level embedding cache backend (<code>"db"</code> (default) or <code>"memory"</code>), and <code>MAPELITES_REPO_STATE_MAX_FILES</code> optionally caps the number of eligible files considered in repo-state mode (default: unlimited).</li>
<li><strong>Map-Elites experiment root commit</strong>: <code>MAPELITES_EXPERIMENT_ROOT_COMMIT</code> optionally pins a specific git commit hash as the logical root for a given experiment. When set, the scheduler ensures this commit is recorded in the <code>commits</code> table and ingested into each relevant MAP-Elites island archive before scheduling any evolution jobs, so all subsequent jobs branch from a well-defined starting point.</li>
<li><strong><code>database_dsn</code></strong>: computed property that returns a SQLAlchemy-compatible DSN, preferring <code>DATABASE_URL</code> when set and otherwise building one from the individual DB fields (with credentials URL-encoded).</li>
<li><strong><code>export_safe()</code></strong>: helper that returns a dict of non-sensitive configuration values suitable for logging.</li>
</ul>
<h2 id="access-helpers">Access helpers<a class="headerlink" href="#access-helpers" title="Permanent link">&para;</a></h2>
<ul>
<li><strong><code>get_settings()</code></strong>: cached factory that instantiates <code>Settings</code>, logs a concise summary of the environment and DB host using <code>rich</code>/<code>loguru</code>, and returns a singleton instance for reuse across the loreley.</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>